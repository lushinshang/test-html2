
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>exam21_notemaker - å®Œæ•´ä½¿ç”¨è€…æµç¨‹åœ–</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            border-bottom: 5px solid #ff6b6b;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        .tabs {
            display: flex;
            background: #f5f5f5;
            border-bottom: 2px solid #ddd;
            flex-wrap: wrap;
        }

        .tab-button {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: #f5f5f5;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            min-width: 150px;
            border-bottom: 3px solid transparent;
        }

        .tab-button:hover {
            background: #e8e8e8;
            color: #333;
        }

        .tab-button.active {
            background: white;
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-content {
            display: none;
            padding: 30px;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .mermaid {
            display: flex;
            justify-content: center;
            background: #fafafa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: auto;
            min-height: 300px;
        }

        .description {
            background: #f0f8ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            line-height: 1.6;
        }

        .decision-box {
            background: #fff3cd;
            border-left: 4px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            font-weight: 600;
        }

        .logic-box {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .error-box {
            background: #ffebee;
            border-left: 4px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .feature-card h3 {
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .feature-card p {
            font-size: 0.95em;
            opacity: 0.9;
        }

        .flow-section {
            margin: 30px 0;
        }

        .flow-section h3 {
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 15px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 5px;
            overflow: hidden;
        }

        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
        }

        tr:hover {
            background: #f5f5f5;
        }

        .code-block {
            background: #272822;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .keyword { color: #ff79c6; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .number { color: #bd93f9; }

        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 5px;
        }

        .key-metric {
            display: inline-block;
            background: #e8f5e9;
            color: #2e7d32;
            padding: 5px 10px;
            border-radius: 3px;
            margin: 5px 5px 5px 0;
            font-weight: 600;
        }

        .footer {
            background: #f5f5f5;
            padding: 20px;
            text-align: center;
            border-top: 1px solid #ddd;
            color: #666;
            font-size: 0.9em;
        }

        .text-block {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            line-height: 1.8;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .tab-button {
                min-width: auto;
                padding: 10px 15px;
                font-size: 0.9em;
            }

            .mermaid {
                padding: 10px;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ exam21_notemaker</h1>
            <p>AI é©…å‹•æ™ºèƒ½ç­†è¨˜ç”Ÿæˆç³»çµ± - å®Œæ•´ä½¿ç”¨è€…æµç¨‹åœ–èˆ‡é‚è¼¯åˆ†æ</p>
        </div>

        <div class="tabs">
            <button class="tab-button active" onclick="switchTab(0)">ğŸ“Š ä¸»æµç¨‹åœ–</button>
            <button class="tab-button" onclick="switchTab(1)">ğŸ¬ ç‰¹æ€§è©³è§£</button>
            <button class="tab-button" onclick="switchTab(2)">ğŸ”€ æ±ºç­–æ¨¹</button>
            <button class="tab-button" onclick="switchTab(3)">ğŸ“ˆ è™•ç†æµç¨‹</button>
            <button class="tab-button" onclick="switchTab(4)">âš™ï¸ é‚è¼¯ç³»çµ±</button>
            <button class="tab-button" onclick="switchTab(5)">ğŸ›¡ï¸ å“è³ªä¿è­‰</button>
        </div>

        <!-- Tab 1: ä¸»æµç¨‹åœ– -->
        <div class="tab-content active">
            <h2>ğŸ¯ ç³»çµ±ä¸»æµç¨‹åœ–</h2>
            <p style="margin-bottom: 20px; color: #666;">å±•ç¤ºä½¿ç”¨è€…å¾å•Ÿå‹•æ‡‰ç”¨åˆ°å®Œæˆä»»å‹™çš„å®Œæ•´æµç¨‹</p>

            <div class="mermaid">
graph TD
    A["åŸ·è¡Œ run.sh"] --> B["ç’°å¢ƒæª¢æŸ¥"]
    B --> B1{"è™›æ“¬ç’°å¢ƒ<br/>å­˜åœ¨?"}
    B1 -->|å¦| B2["å»ºç«‹ .venv"]
    B1 -->|æ˜¯| B3{"API KEY<br/>å­˜åœ¨?"}
    B2 --> B3
    B3 -->|å¦| B4["çµ‚æ­¢<br/>éœ€è¦ GOOGLE_API_KEY"]
    B3 -->|æ˜¯| C["é¡¯ç¤ºä¸»èœå–®"]

    C --> D{"é¸æ“‡åŠŸèƒ½<br/>1-6"}

    D -->|1: é€å­—ç¨¿| F1["ç‰¹æ€§ 1"]
    D -->|2: ç¶²é | F2["ç‰¹æ€§ 2"]
    D -->|3: PDF| F3["ç‰¹æ€§ 3"]
    D -->|4: å„ªåŒ–| F4["ç‰¹æ€§ 4"]
    D -->|5: YouTube| F5["ç‰¹æ€§ 5"]
    D -->|6: æ¸…ç†| F6["ç‰¹æ€§ 6"]

    F1 --> F1A["æƒæ transcription/"]
    F1A --> F1B["é¸æ“‡æª”æ¡ˆ"]
    F1B --> F1C["é¸æ“‡æç¤ºè©é¡å‹"]
    F1C --> F1D["ç”Ÿæˆç­†è¨˜"]
    F1D --> OUT1["è¼¸å‡º: transcript-*.md"]

    F2 --> F2A["è¼¸å…¥ URL"]
    F2A --> F2B["æª¢æ¸¬: éœæ…‹/å‹•æ…‹"]
    F2B --> F2C["ç²å–å…§å®¹"]
    F2C --> F2D["Gemini åˆ†æ"]
    F2D --> OUT2["è¼¸å‡º: web-analysis-*.md"]

    F3 --> F3A["æƒæ transcription/"]
    F3A --> F3B["é¸æ“‡ PDF æ¨¡å¼"]
    F3B --> F3B1{"é¸æ“‡æ¨¡å¼"}
    F3B1 -->|æ¨¡å¼ 1: åŸæ–‡| F3M1["Docling è½‰æ›<br/>ç„¡ API"]
    F3B1 -->|æ¨¡å¼ 2: é›™èª| F3M2["æª¢æ¸¬ä¸­æ–‡æ¯”ä¾‹<br/>â‰¥60% è·³é"]
    F3B1 -->|æ¨¡å¼ 3: æ·±åº¦| F3M3["Vision API<br/>OEM RICE Simpson"]
    F3M1 --> OUT3A["è¼¸å‡º: pdf-raw-*.md"]
    F3M2 --> OUT3B["è¼¸å‡º: pdf-raw-*_tw.md"]
    F3M3 --> OUT3C["è¼¸å‡º: pdf-analysis-*.md"]

    F4 --> F4A["æƒæ output/"]
    F4A --> F4B["é¸æ“‡ç­†è¨˜"]
    F4B --> F4C["Gemini å„ªåŒ–"]
    F4C --> OUT4["è¼¸å‡º: optimized-*.md"]

    F5 --> F5A["è¼¸å…¥ YouTube URL"]
    F5A --> F5B["ä¸‹è¼‰å­—å¹•"]
    F5B --> OUT5["è¼¸å‡º: transcription/*.srt"]

    F6 --> F6A["æƒæ transcription/"]
    F6A --> F6B["é¸æ“‡æª”æ¡ˆ"]
    F6B --> F6C["æ¸…ç†è½‰éŒ„"]
    F6C --> OUT6["è¼¸å‡º: clean-*.md"]

    OUT1 --> END["å®Œæˆ"]
    OUT2 --> END
    OUT3A --> END
    OUT3B --> END
    OUT3C --> END
    OUT4 --> END
    OUT5 --> END
    OUT6 --> END
    B4 --> END

    style A fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
    style C fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
    style END fill:#4caf50,stroke:#333,stroke-width:2px,color:#fff
    style B4 fill:#f44336,stroke:#333,stroke-width:2px,color:#fff
            </div>

            <div class="description">
                <strong>åœ–ä¾‹èªªæ˜ï¼š</strong>
                <ul style="margin-top: 10px; margin-left: 20px;">
                    <li><span style="color: #667eea;">â– </span> é–‹å§‹/ä¸»è¦æ±ºç­–</li>
                    <li><span style="color: #667eea;">â– </span> 6 å¤§åŠŸèƒ½ç‰¹æ€§</li>
                    <li><span style="color: #4caf50;">â– </span> æˆåŠŸå®Œæˆ</li>
                    <li><span style="color: #f44336;">â– </span> éŒ¯èª¤çµ‚æ­¢</li>
                </ul>
            </div>
        </div>

        <!-- Tab 2: ç‰¹æ€§è©³è§£ -->
        <div class="tab-content">
            <h2>ğŸ¬ å…­å¤§æ ¸å¿ƒç‰¹æ€§è©³è§£</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>1ï¸âƒ£ é€å­—ç¨¿ç­†è¨˜</h3>
                    <p>å°‡éŸ³è¨Šé€å­—ç¨¿ã€æœƒè­°è¨˜éŒ„è½‰æ›ç‚ºçµæ§‹åŒ–æ™ºèƒ½ç­†è¨˜ï¼Œæ”¯æ´ 3 ç¨®é•·åº¦é¸é …</p>
                </div>
                <div class="feature-card">
                    <h3>2ï¸âƒ£ ç¶²é åˆ†æ</h3>
                    <p>æ™ºèƒ½æª¢æ¸¬éœæ…‹/å‹•æ…‹ç¶²ç«™ï¼Œè‡ªå‹•æå–å…§å®¹ä¸¦é€²è¡Œæ·±åº¦ AI åˆ†æ</p>
                </div>
                <div class="feature-card">
                    <h3>3ï¸âƒ£ PDF æ™ºèƒ½åˆ†æ</h3>
                    <p>3 ç¨®æ¨¡å¼ï¼šåŸæ–‡è½‰æ›ã€æ™ºèƒ½é›™èªã€æ·±åº¦åˆ†æï¼ˆå«è¦–è¦ºåˆ†æï¼‰</p>
                </div>
                <div class="feature-card">
                    <h3>4ï¸âƒ£ ç­†è¨˜å„ªåŒ–</h3>
                    <p>ä½¿ç”¨ AI å°æ—¢æœ‰ç­†è¨˜é€²è¡Œæ”¹é€²ï¼Œæå‡å¯«ä½œå“è³ª</p>
                </div>
                <div class="feature-card">
                    <h3>5ï¸âƒ£ YouTube å­—å¹•</h3>
                    <p>è‡ªå‹•ä¸‹è¼‰ YouTube å½±ç‰‡å­—å¹•ï¼Œæ”¯æ´å¤šèªè¨€å„ªå…ˆç´šé¸æ“‡</p>
                </div>
                <div class="feature-card">
                    <h3>6ï¸âƒ£ è½‰éŒ„æ¸…ç†</h3>
                    <p>è‡ªå‹•æ¸…ç†é€å­—ç¨¿æ ¼å¼ï¼Œç§»é™¤æ™‚æˆ³ã€è­˜åˆ¥è¬›è€…è§’è‰²</p>
                </div>
            </div>

            <div class="flow-section">
                <h3>Feature 1: é€å­—ç¨¿ç­†è¨˜ç”Ÿæˆæµç¨‹</h3>
                <div class="mermaid">
graph LR
    A["transcription/"] --> B["æƒææª”æ¡ˆ"]
    B --> C["é¸æ“‡æª”æ¡ˆ"]
    C --> D{"æ¨¡å¼"}
    D -->|å–®ä¸€| E["1 å€‹æª”æ¡ˆ"]
    D -->|æ‰¹æ¬¡| F["å¤šå€‹æª”æ¡ˆ"]
    E --> G["é¸æ“‡æç¤ºè©é¡å‹"]
    F --> G
    G --> H{"é•·åº¦"}
    H -->|5K| I["ç²¾ç°¡ç‰ˆ"]
    H -->|10K| J["æ¨™æº–ç‰ˆ"]
    H -->|20K| K["è©³ç´°ç‰ˆ"]
    I --> L["åˆ†å¡Šç”Ÿæˆ"]
    J --> L
    K --> L
    L --> M["Mermaid QA"]
    M --> N["è¼¸å‡º"]
                </div>

                <div class="decision-box">
                    <strong>æ±ºç­–é‚è¼¯ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li>æª”æ¡ˆå¤§å° &gt; 100KB â†’ è‡ªå‹•åˆ†å¡Šè™•ç†</li>
                        <li>æç¤ºè©åç¨±è‡ªå‹•åˆ¤å®šé•·åº¦ç›®æ¨™ï¼ˆ5K/10K/20Kï¼‰</li>
                        <li>æ‰¹æ¬¡è™•ç†æ™‚å–®æª”æ¡ˆå¤±æ•—ä¸å½±éŸ¿å…¶ä»–</li>
                    </ul>
                </div>
            </div>

            <div class="flow-section">
                <h3>Feature 3: PDF ä¸‰æ¨¡å¼åˆ†æ</h3>
                <div class="mermaid">
graph TD
    A["é¸æ“‡ PDF"] --> B{"æ¨¡å¼"}

    B -->|æ¨¡å¼ 1: åŸæ–‡| C1["Docling é è™•ç†"]
    C1 --> D1["è½‰æ›ç‚º Markdown"]
    D1 --> E1["ç„¡ API å‘¼å«"]
    E1 --> T1["~10 ç§’"]

    B -->|æ¨¡å¼ 2: é›™èª| C2["Docling é è™•ç†"]
    C2 --> D2["æª¢æ¸¬ä¸­æ–‡æ¯”ä¾‹"]
    D2 --> D2A{"ä¸­æ–‡"}
    D2A -->|â‰¥60%| E2A["åªä¿ç•™åŸæ–‡"]
    D2A -->|å°‘æ–¼| E2B["ç¿»è­¯ç‚ºç¹ä¸­"]
    E2A --> F2["ç¯€çœ 40% Token"]
    E2B --> F2
    F2 --> T2["40-90 ç§’"]

    B -->|æ¨¡å¼ 3: æ·±åº¦| C3["Docling é è™•ç†"]
    C3 --> D3["æå–åœ–ç‰‡"]
    D3 --> E3["Vision API"]
    E3 --> F3["OEM åˆ†æ"]
    F3 --> G3["RICE è©•åˆ†"]
    G3 --> H3["Simpson æª¢æŸ¥"]
    H3 --> I3["11 é¡åœ–è¡¨"]
    I3 --> J3["å¼·åˆ¶åœ–ç‰‡åµŒå…¥"]
    J3 --> K3["Mermaid QA"]
    K3 --> T3["2-5 åˆ†é˜"]

    style C1 fill:#e8f5e9
    style C2 fill:#e8f5e9
    style C3 fill:#e8f5e9
    style T1 fill:#fff3cd
    style T2 fill:#fff3cd
    style T3 fill:#fff3cd
                </div>

                <div class="logic-box">
                    <strong>æ¨¡å¼é‚è¼¯å°æ¯”ï¼š</strong>
                    <table>
                        <tr>
                            <th>æ¨¡å¼</th>
                            <th>API å‘¼å«</th>
                            <th>æ™‚é–“</th>
                            <th>Token</th>
                            <th>ç”¨é€”</th>
                        </tr>
                        <tr>
                            <td>æ¨¡å¼ 1: åŸæ–‡è½‰æ›</td>
                            <td>âŒ ç„¡</td>
                            <td>~10 ç§’</td>
                            <td>0</td>
                            <td>å¿«é€Ÿæ ¼å¼è½‰æ›</td>
                        </tr>
                        <tr>
                            <td>æ¨¡å¼ 2: æ™ºèƒ½é›™èª</td>
                            <td>âš¡ å¯èƒ½</td>
                            <td>40-90 ç§’</td>
                            <td>8K-12K</td>
                            <td>å¯é¸ç¿»è­¯</td>
                        </tr>
                        <tr>
                            <td>æ¨¡å¼ 3: æ·±åº¦åˆ†æ</td>
                            <td>âœ… å®Œæ•´</td>
                            <td>2-5 åˆ†é˜</td>
                            <td>15K-20K</td>
                            <td>ç ”ç©¶è«–æ–‡</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab 3: æ±ºç­–æ¨¹ -->
        <div class="tab-content">
            <h2>ğŸ”€ é—œéµæ±ºç­–ç¯€é»åˆ†æ</h2>

            <div class="flow-section">
                <h3>æ±ºç­– 1: ä¸»èœå–®è·¯ç”±</h3>
                <div class="mermaid">
graph TD
    A["ä½¿ç”¨è€…é¸æ“‡"] --> B{é¸é …<br/>1-6}
    B -->|1| T1["é€å­—ç¨¿ç­†è¨˜"]
    B -->|2| T2["ç¶²é åˆ†æ"]
    B -->|3| T3["PDF åˆ†æ"]
    B -->|4| T4["ç­†è¨˜å„ªåŒ–"]
    B -->|5| T5["YouTube"]
    B -->|6| T6["æ¸…ç†"]
    B -->|å…¶ä»–| ERR["éŒ¯èª¤"]

    T1 --> F1["åŸ·è¡Œ F1"]
    T2 --> F2["åŸ·è¡Œ F2"]
    T3 --> F3["åŸ·è¡Œ F3"]
    T4 --> F4["åŸ·è¡Œ F4"]
    T5 --> F5["åŸ·è¡Œ F5"]
    T6 --> F6["åŸ·è¡Œ F6"]
    ERR --> A
                </div>
            </div>

            <div class="flow-section">
                <h3>æ±ºç­– 2: è™•ç†æ¨¡å¼é¸æ“‡</h3>
                <div class="mermaid">
graph TD
    A["é¸æ“‡æ¨¡å¼"] --> B{å–®ä¸€æˆ–<br/>æ‰¹æ¬¡}

    B -->|å–®ä¸€| S1["select_file()"]
    S1 --> S2["1 å€‹æª”æ¡ˆ"]
    S2 --> S3["è¨­å®šåƒæ•¸"]
    S3 --> S4["è™•ç†"]

    B -->|æ‰¹æ¬¡| M1["select_files_interactive()"]
    M1 --> M2["å¤šå€‹æª”æ¡ˆ"]
    M2 --> M3["åŒ…è£å‡½æ•¸"]
    M3 --> M4["batch_process()"]
    M4 --> M5["é€å€‹è™•ç†"]
    M5 --> M5A{"æˆåŠŸ"}
    M5A -->|æ˜¯| M6A["æˆåŠŸæ•¸++"]
    M5A -->|å¦| M6B["å¤±æ•—æ•¸++"]
    M6A --> M7{"é‚„æœ‰æ›´å¤š"}
    M6B --> M7
    M7 -->|æ˜¯| M5
    M7 -->|å¦| M8["é¡¯ç¤ºçµ±è¨ˆ"]

    S4 --> END["å®Œæˆ"]
    M8 --> END

    style M5A fill:#fff3cd
    style M7 fill:#fff3cd
                </div>

                <div class="decision-box">
                    <strong>æ±ºç­–é‚è¼¯ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><strong>å–®ä¸€æ¨¡å¼ï¼š</strong>ç°¡å–®å¿«é€Ÿï¼Œé©åˆ 1-2 å€‹æª”æ¡ˆ</li>
                        <li><strong>æ‰¹æ¬¡æ¨¡å¼ï¼š</strong>å®Œæ•´äº’å‹•å¼ UIï¼Œæ”¯æ´éµç›¤å°èˆª</li>
                        <li><strong>éŒ¯èª¤éš”é›¢ï¼š</strong>å–®æª”æ¡ˆå¤±æ•—ä¸å½±éŸ¿æ•´å€‹æ‰¹æ¬¡</li>
                        <li><strong>é€²åº¦è¿½è¹¤ï¼š</strong>å³æ™‚é¡¯ç¤º [n/total] é€²åº¦</li>
                    </ul>
                </div>
            </div>

            <div class="flow-section">
                <h3>æ±ºç­– 3: PDF èªè¨€æª¢æ¸¬ï¼ˆæ¨¡å¼ 2 æ™ºèƒ½é›™èªï¼‰</h3>
                <div class="mermaid">
graph TD
    A["PDF æ¨¡å¼ 2<br/>æ™ºèƒ½é›™èª"] --> B["Docling è½‰ç‚º Markdown"]
    B --> C["detect_chinese_ratio()"]
    C --> D["è¨ˆç®—ç™¾åˆ†æ¯”"]
    D --> E{"æ¯”ä¾‹ â‰¥60%"}

    E -->|æ˜¯| F["è·³éç¿»è­¯"]
    F --> G["ç¯€çœ 40% Token"]
    G --> H["è¼¸å‡º: åŸæ–‡"]

    E -->|å¦| I["å‘¼å«ç¿»è­¯ API"]
    I --> J["è½‰æ›ç‚ºç¹ä¸­"]
    J --> K["é©—è­‰å“è³ª"]
    K --> L["æª¢æŸ¥åœ–ç‰‡è·¯å¾‘"]
    L --> M["è¼¸å‡º: å…©ç‰ˆ"]

    H --> END["å®Œæˆ"]
    M --> END

    style E fill:#fff3cd,stroke:#ff9800,stroke-width:2px
    style F fill:#e8f5e9
    style I fill:#ffebee
                </div>

                <div class="logic-box">
                    <strong>ä¸­æ–‡æ¯”ä¾‹æª¢æ¸¬é‚è¼¯ï¼š</strong>
                    <div style="margin-top: 10px; font-family: monospace; background: #f5f5f5; padding: 10px; border-radius: 5px;">
chinese_count = sum(CJK chars)<br/>
total_chars = len(markdown)<br/>
ratio = chinese_count / total_chars<br/>
<br/>
if ratio >= 0.60:<br/>
&nbsp;&nbsp;skip_translation()  # Already Chinese enough<br/>
else:<br/>
&nbsp;&nbsp;translate()  # Need Chinese version
                    </div>
                </div>
            </div>

            <div class="flow-section">
                <h3>æ±ºç­– 4: Mermaid é©—è­‰èˆ‡ä¿®å¾©</h3>
                <div class="mermaid">
graph TD
    A["Gemini è¼¸å‡º"] --> B["validate_and_fix()"]
    B --> C["æ­¥é©Ÿ 1: é©—è­‰"]
    C --> D["MermaidValidator"]
    D --> E["æƒæå€å¡Š"]
    E --> F{èªæ³•<br/>éŒ¯èª¤}

    F -->|å¦| G["è¿”å›åŸå§‹"]

    F -->|æ˜¯| H["æ­¥é©Ÿ 2: ä¿®å¾©"]
    H --> I["MermaidFixer"]
    I --> I1["ä¿®å¾©æ‹¬è™Ÿ"]
    I1 --> I2["ä¿®å¾©åˆ†è™Ÿ"]
    I2 --> I3["ä¿®å¾©å¼•è™Ÿ"]
    I3 --> I4["ä¿®å¾© CSS è®Šæ•¸"]
    I4 --> I5["ä¿®å¾©è¨»é‡‹"]

    I5 --> J["æ­¥é©Ÿ 3: é‡æ–°é©—è­‰"]
    J --> K["MermaidValidator"]
    K --> L{æˆåŠŸ}

    L -->|æ˜¯| M["è¿”å›å·²ä¿®å¾©"]
    L -->|å¦| N["è¨˜éŒ„è­¦å‘Š"]
    N --> M

    G --> END["ä¿å­˜"]
    M --> END

    style F fill:#fff3cd,stroke:#ff9800,stroke-width:2px
    style L fill:#fff3cd,stroke:#ff9800,stroke-width:2px
    style G fill:#e8f5e9
    style M fill:#e8f5e9
    style N fill:#ffebee
                </div>

                <div class="logic-box">
                    <strong>é©—è­‰æµç¨‹é‚è¼¯ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><strong>Layer 1 (é˜²æ­¢)ï¼š</strong>æç¤ºè©åŒ…å« HackMD è¦å‰‡ (1,554 å­—ç¬¦)</li>
                        <li><strong>Layer 2 (æª¢æ¸¬)ï¼š</strong>MermaidValidator æƒæèªæ³•å•é¡Œ</li>
                        <li><strong>Layer 3 (ä¿®å¾©)ï¼š</strong>MermaidFixer è‡ªå‹•ç³¾æ­£å¸¸è¦‹éŒ¯èª¤</li>
                        <li><strong>æˆåŠŸç‡ï¼š</strong>100% é©—è­‰é€šéï¼ˆåœ¨ Layer 3 ä¹‹å¾Œï¼‰</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Tab 4: è™•ç†æµç¨‹ -->
        <div class="tab-content">
            <h2>ğŸ“ˆ ä¸‰å¤§å…§å®¹ä¾†æºçš„å®Œæ•´è™•ç†æµç¨‹</h2>

            <div class="flow-section">
                <h3>æµç¨‹ A: é€å­—ç¨¿è™•ç†ç®¡é“</h3>
                <div class="mermaid">
graph LR
    A["transcription/"] --> B["è¼‰å…¥é€å­—ç¨¿"]
    B --> C{æª”æ¡ˆå¤§å°<br/>100KB+}

    C -->|å¦| D["å–®æ¬¡ API å‘¼å«"]
    C -->|æ˜¯| E["åˆ†å¡Šè™•ç†"]

    E --> E1["åˆ†å‰²ç‚ºå¤šå€‹å¡Š"]
    E1 --> E2["é€å¡Šç™¼é€ API"]
    E2 --> E3["æ”¶é›†çµæœ"]
    E3 --> E4["åˆä½µæ‘˜è¦"]

    D --> F["å»ºæ§‹æç¤ºè©"]
    E4 --> F
    F --> G["Gemini API"]
    G --> H["é©—è­‰ Mermaid"]
    H --> I{æœ‰éŒ¯èª¤}

    I -->|æ˜¯| J["è‡ªå‹•ä¿®å¾©"]
    J --> K["é‡æ–°é©—è­‰"]
    K --> L{æˆåŠŸ}
    L -->|æ˜¯| M["ä¿å­˜"]
    L -->|å¦| M

    I -->|å¦| M
    M --> N["è¼¸å‡º"]

    style C fill:#fff3cd,stroke:#ff9800,stroke-width:2px
    style I fill:#fff3cd,stroke:#ff9800,stroke-width:2px
    style G fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                </div>

                <div class="description">
                    <strong>é—œéµåƒæ•¸ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><strong>åˆ†å¡Šé–¾å€¼ï¼š</strong>100 KB</li>
                        <li><strong>é ä¼°è¼¸å‡ºï¼š</strong>5K/10K/20K å­—</li>
                        <li><strong>å…¸å‹æ™‚é–“ï¼š</strong>30ç§’-5åˆ†é˜</li>
                        <li><strong>Token æ¶ˆè€—ï¼š</strong>3K-10K (Gemini 2.5)</li>
                    </ul>
                </div>
            </div>

            <div class="flow-section">
                <h3>æµç¨‹ B: PDF æ·±åº¦åˆ†æç®¡é“ï¼ˆæ¨¡å¼ 3ï¼‰</h3>
                <div class="mermaid">
graph TD
    A["é¸æ“‡ PDF"] --> B["Docling é è™•ç†"]
    B --> C["æŠ½å–æ–‡æœ¬"]
    C --> D["æŠ½å–åœ–ç‰‡"]
    D --> E["æŠ½å–å¾Œè¨­è³‡æ–™"]

    E --> F["æ·±åº¦ç ”ç©¶æº–å‚™"]
    F --> G["Vision API"]

    G --> H["Gemini æ·±åº¦åˆ†æ"]
    H --> H1["OEM æ¡†æ¶"]
    H1 --> H2["RICE è©•åˆ†"]
    H2 --> H3["Simpson æª¢æŸ¥"]
    H3 --> H4["11 é¡åœ–è¡¨"]

    H4 --> I["åœ–ç‰‡åµŒå…¥"]
    I --> J["Mermaid QA"]

    J --> K["ç”Ÿæˆæ‘˜è¦"]
    K --> L["ä¿å­˜"]
    L --> M["è¼¸å‡º"]

    style G fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
    style H fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
    style J fill:#ff9800,stroke:#333,stroke-width:2px,color:#fff
                </div>

                <div class="logic-box">
                    <strong>åˆ†æå…§å®¹çµæ§‹ï¼š</strong>
                    <div style="margin-top: 10px;">
                        <strong>OEM æ¡†æ¶ï¼š</strong><br/>
                        â€¢ Objectives (ç›®æ¨™) - æ–‡ä»¶æƒ³é”æˆä»€éº¼<br/>
                        â€¢ Execution (åŸ·è¡Œ) - å¦‚ä½•å¯¦ç¾<br/>
                        â€¢ Metrics (æŒ‡æ¨™) - æˆåŠŸå¦‚ä½•æ¸¬é‡<br/>
                        <br/>
                        <strong>RICE è©•åˆ†ï¼š</strong><br/>
                        â€¢ Reach (è¦†è“‹ç¯„åœ)<br/>
                        â€¢ Impact (å½±éŸ¿ç¨‹åº¦)<br/>
                        â€¢ Confidence (ä¿¡å¿ƒåº¦)<br/>
                        â€¢ Effort (æ‰€éœ€åŠªåŠ›)<br/>
                        <br/>
                        <strong>Simpson æ‚–è«–æª¢æŸ¥ï¼š</strong><br/>
                        åµæ¸¬çµ±è¨ˆçµè«–ä¸­çš„åè«·èˆ‡çŸ›ç›¾
                    </div>
                </div>
            </div>

            <div class="flow-section">
                <h3>æµç¨‹ C: ç¶²é åˆ†æç®¡é“</h3>
                <div class="mermaid">
graph TD
    A["è¼¸å…¥ URL"] --> B["æ™ºèƒ½æª¢æ¸¬"]
    B --> C{"JS æ¡†æ¶"}

    C -->|å¦: éœæ…‹| D["BeautifulSoup<br/>50ms"]
    C -->|æ˜¯: å‹•æ…‹| E["Playwright<br/>90-180s"]

    D --> F["æŠ½å–æ–‡æœ¬"]
    E --> F
    F --> G["æŠ½å–åœ–ç‰‡"]
    G --> H{ArXiv<br/>è«–æ–‡}

    H -->|æ˜¯| I["ä¿®å¾© ArXiv URL"]
    H -->|å¦| J["ä¿æŒ URL"]

    I --> K["Gemini åˆ†æ"]
    J --> K

    K --> L["Vision API"]
    L --> M["æ­£è¦åŒ–æ¨™é¡Œ"]
    M --> N["åœ–ç‰‡åµŒå…¥"]
    N --> O["Mermaid QA"]
    O --> P["æ·»åŠ æ‘˜è¦"]
    P --> Q["ä¿å­˜"]
    Q --> R["è¼¸å‡º"]

    style C fill:#fff3cd,stroke:#ff9800,stroke-width:2px
    style H fill:#fff3cd,stroke:#ff9800,stroke-width:2px
    style K fill:#667eea,stroke:#333,stroke-width:2px,color:#fff
                </div>

                <div class="decision-box">
                    <strong>éœæ…‹ vs å‹•æ…‹æª¢æ¸¬é‚è¼¯ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><strong>éœæ…‹ç¶²ç«™ï¼š</strong>å‚³çµ± HTMLï¼ŒBeautifulSoup å¿«é€Ÿè§£æ</li>
                        <li><strong>å‹•æ…‹ç¶²ç«™ï¼š</strong>éœ€è¦ JS åŸ·è¡Œï¼Œä½¿ç”¨ Playwright å®Œæ•´æ¸²æŸ“</li>
                        <li><strong>æ¡†æ¶åµæ¸¬ï¼š</strong>æª¢æŸ¥ HTML ä¸­çš„ Reactã€Vueã€Next.js æ¨™ç±¤</li>
                        <li><strong>æ™‚é–“å·®ï¼š</strong>éœæ…‹å¿« 40 å€ (50ms vs 2000ms)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Tab 5: é‚è¼¯ç³»çµ± -->
        <div class="tab-content">
            <h2>âš™ï¸ æ ¸å¿ƒé‚è¼¯ç³»çµ±èˆ‡æ¶æ§‹</h2>

            <div class="flow-section">
                <h3>æ¶æ§‹æ¨¡å¼ 1: Template Methodï¼ˆç¯„æœ¬æ–¹æ³•ï¼‰</h3>
                <p style="margin-bottom: 15px; color: #666;">æ‰€æœ‰å…§å®¹ä¾†æºå…±äº«çµ±ä¸€çš„è™•ç†ç®¡é“</p>

                <div class="code-block">
<span class="keyword">class</span> MarkdownReportGenerator:
    <span class="keyword">def</span> generate(source_data):
        <span class="comment"># Step 1: Preprocess (child)</span>
        processed_data = <span class="keyword">self</span>.preprocess(source_data)

        <span class="comment"># Step 2: Analyze (child)</span>
        report = <span class="keyword">self</span>.analyze(processed_data)

        <span class="comment"># Step 3: Validate (base)</span>
        report, _ = <span class="keyword">self</span>.validate_and_fix(report)

        <span class="comment"># Step 4: Save (base)</span>
        output = <span class="keyword">self</span>.save_report(report)
        <span class="keyword">return</span> output

<span class="keyword">class</span> PDFArticleAnalyzer(MarkdownReportGenerator):
    <span class="keyword">def</span> preprocess(source):
        <span class="comment"># PDF-specific logic</span>
        <span class="keyword">return</span> ProcessedData(...)

    <span class="keyword">def</span> analyze(data):
        <span class="comment"># PDF-specific analysis</span>
        <span class="keyword">return</span> report
                </div>

                <div class="logic-box">
                    <strong>Template Method å„ªé»ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><strong>ä»£ç¢¼é‡ç”¨ï¼š</strong>é©—è­‰ã€å„²å­˜ã€Mermaid QA åœ¨åŸºé¡å…±äº«</li>
                        <li><strong>ä¸€è‡´æ€§ï¼š</strong>æ‰€æœ‰å…§å®¹ä¾†æºè¼¸å‡ºå“è³ªä¸€è‡´</li>
                        <li><strong>å¯æ“´å±•æ€§ï¼š</strong>æ–°å¢å…§å®¹ä¾†æºåªéœ€å¯¦ç¾ preprocess + analyze</li>
                        <li><strong>DRY åŸå‰‡ï¼š</strong>-90% ä»£ç¢¼é‡è¤‡åº¦</li>
                    </ul>
                </div>
            </div>

            <div class="flow-section">
                <h3>æ‰¹æ¬¡è™•ç†é‚è¼¯</h3>
                <p style="margin-bottom: 15px; color: #666;">éŒ¯èª¤éš”é›¢ç¢ºä¿éƒ¨åˆ†æª”æ¡ˆå¤±æ•—ä¸å½±éŸ¿æ•´å€‹æ‰¹æ¬¡</p>

                <div class="code-block">
<span class="keyword">def</span> batch_process_with_progress(files, func):
    success = <span class="number">0</span>
    failed = <span class="number">0</span>

    <span class="keyword">for</span> i, file <span class="keyword">in</span> enumerate(files, <span class="number">1</span>):
        print(<span class="string">f"[{i}/{len(files)}] Processing"</span>)

        <span class="keyword">try</span>:
            func(file)
            success += <span class="number">1</span>
        <span class="keyword">except</span> Exception <span class="keyword">as</span> e:
            <span class="comment"># Key: Don't raise, continue!</span>
            print(<span class="string">f"Error: {e}"</span>)
            failed += <span class="number">1</span>

    print(<span class="string">f"Success: {success}, Failed: {failed}"</span>)
                </div>

                <div class="decision-box">
                    <strong>éŒ¯èª¤éš”é›¢çš„å¥½è™•ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><strong>ç©©å®šæ€§ï¼š</strong>å–®å€‹æª”æ¡ˆå•é¡Œä¸å½±éŸ¿å…¶ä»–</li>
                        <li><strong>å¯é æ€§ï¼š</strong>ç”¨æˆ¶çŸ¥é“å“ªäº›æˆåŠŸã€å“ªäº›å¤±æ•—</li>
                        <li><strong>æ•ˆç‡ï¼š</strong>ä¸éœ€è¦é‡æ–°åŸ·è¡Œæ•´å€‹æ‰¹æ¬¡</li>
                        <li><strong>ç”¨æˆ¶é«”é©—ï¼š</strong>æ¸…æ™°çš„æˆåŠŸ/å¤±æ•—çµ±è¨ˆ</li>
                    </ul>
                </div>
            </div>

            <div class="flow-section">
                <h3>API é‡è©¦æ©Ÿåˆ¶</h3>
                <p style="margin-bottom: 15px; color: #666;">å¤š API Key è¼ªæ›¿ + æŒ‡æ•¸é€€é¿ï¼ˆExponential Backoffï¼‰</p>

                <div class="code-block">
<span class="keyword">def</span> generate(prompt):
    retry_count = <span class="number">0</span>

    <span class="keyword">while</span> retry_count &lt; MAX_RETRIES:
        <span class="keyword">try</span>:
            response = model.generate_content(prompt)
            <span class="keyword">return</span> response.text

        <span class="keyword">except</span> QuotaExceeded:
            <span class="comment"># Rotate to next API key</span>
            api_key_manager.rotate()
            retry_count += <span class="number">1</span>
            sleep(<span class="number">60</span>)

        <span class="keyword">except</span> RateLimited:
            <span class="comment"># Exponential backoff</span>
            retry_count += <span class="number">1</span>
            sleep(<span class="number">10</span> * retry_count)

        <span class="keyword">except</span> ConnectionError:
            retry_count += <span class="number">1</span>
            sleep(<span class="number">10</span>)

    <span class="keyword">raise</span> MaxRetriesExceeded()
                </div>

                <div class="logic-box">
                    <strong>é‡è©¦é…ç½®ï¼š</strong>
                    <div style="margin-top: 10px;">
                        â€¢ <strong>MAX_RETRIESï¼š</strong>5 æ¬¡<br/>
                        â€¢ <strong>RETRY_DELAYï¼š</strong>10 ç§’<br/>
                        â€¢ <strong>SERVICE_UNAVAILABLE_DELAYï¼š</strong>60 ç§’<br/>
                        â€¢ <strong>API Key æ•¸ï¼š</strong>æ”¯æ´å¤šå€‹ (é€—è™Ÿåˆ†éš”)<br/>
                        â€¢ <strong>ç¸½å®¹éŒ¯æ™‚é–“ï¼š</strong>æœ€å¤š ~5 åˆ†é˜
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab 6: å“è³ªä¿è­‰ -->
        <div class="tab-content">
            <h2>ğŸ›¡ï¸ ä¸‰å±¤å“è³ªä¿è­‰ç³»çµ±ï¼ˆHackMD QAï¼‰</h2>

            <div class="flow-section">
                <h3>å“è³ªä¿è­‰æ¶æ§‹</h3>
                <div class="mermaid">
graph TD
    A["Gemini è¼¸å‡º"] --> B["Layer 1<br/>é˜²æ­¢"]
    B --> B1["HackMD è¦å‰‡<br/>åµŒå…¥æç¤ºè©"]
    B1 --> B2["1554 å­—ç¬¦<br/>å®Œæ•´æŒ‡å¼•"]

    B2 --> C["Layer 2<br/>æª¢æ¸¬"]
    C --> C1["MermaidValidator<br/>æƒæèªæ³•"]
    C1 --> C2["275 è¡Œ<br/>é©—è­‰é‚è¼¯"]
    C2 --> C3{æœ‰å•é¡Œ}

    C3 -->|å¦| OK1["ä½¿ç”¨åŸå§‹"]
    C3 -->|æ˜¯| D["Layer 3<br/>ä¿®å¾©"]

    D --> D1["MermaidFixer<br/>è‡ªå‹•ä¿®å¾©"]
    D1 --> D2["310+ è¡Œ<br/>ä¿®å¾©é‚è¼¯"]
    D2 --> D3["ä¿®å¾©å•é¡Œ"]
    D3 --> E["é‡æ–°é©—è­‰"]
    E --> E1{æˆåŠŸ}

    E1 -->|æ˜¯| OK2["ä½¿ç”¨å·²ä¿®å¾©"]
    E1 -->|å¦| OK3["ä½¿ç”¨å·²ä¿®å¾©<br/>è¨˜éŒ„è­¦å‘Š"]

    OK1 --> FINAL["æˆåŠŸ: 100%"]
    OK2 --> FINAL
    OK3 --> FINAL

    style B fill:#e8f5e9
    style C fill:#e8f5e9
    style D fill:#ffebee
    style FINAL fill:#4caf50,stroke:#333,stroke-width:2px,color:#fff
                </div>
            </div>

            <div class="flow-section">
                <h3>Layer 1: é˜²æ­¢å•é¡Œï¼ˆæç¤ºè©å„ªåŒ–ï¼‰</h3>
                <p style="margin-bottom: 15px; color: #666;">1,554 å­—å…ƒçš„ HackMD ç›¸å®¹æ€§è¦å‰‡ç›´æ¥åµŒå…¥æç¤ºè©</p>

                <div class="logic-box">
                    <strong>åŒ…å«çš„è¦å‰‡ï¼š</strong>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        <li><strong>Mermaid èªæ³•è¦å‰‡ï¼š</strong>æ­£ç¢ºçš„ç¯€é»å®£å‘Šæ–¹å¼</li>
                        <li><strong>Markdown æ ¼å¼ï¼š</strong>æ¨™é¡Œã€åˆ—è¡¨ã€ç¨‹å¼ç¢¼å€å¡Š</li>
                        <li><strong>ç¯€é»å‘½åè¦å‰‡ï¼š</strong>éœ€è¦å¼•è™Ÿçš„æƒ…æ³</li>
                        <li><strong>CSS è®Šæ•¸é™åˆ¶ï¼š</strong>é¡è‰²ã€å­—é«”è¨­å®š</li>
                        <li><strong>åœ–ç‰‡åµŒå…¥æ¨™æº–ï¼š</strong>ç¢ºä¿è·¯å¾‘æ­£ç¢º</li>
                        <li><strong>é€£çµé©—è­‰ï¼š</strong>é¿å…æ–·è£‚é€£çµ</li>
                    </ul>
                </div>
            </div>

            <div class="flow-section">
                <h3>Layer 2: æª¢æ¸¬å•é¡Œï¼ˆMermaidValidatorï¼‰</h3>
                <p style="margin-bottom: 15px; color: #666;">275 è¡Œé©—è­‰é‚è¼¯ï¼Œ43 å€‹æ¸¬è©¦ç”¨ä¾‹</p>

                <div class="code-block">
<span class="keyword">class</span> MermaidValidator:
    <span class="keyword">def</span> validate_report(report):
        errors = []

        <span class="comment"># Find all mermaid blocks</span>
        blocks = extract_mermaid_blocks(report)

        <span class="keyword">for</span> block <span class="keyword">in</span> blocks:
            <span class="comment"># Check node syntax</span>
            <span class="keyword">if</span> <span class="keyword">not</span> validate_nodes(block):
                errors.append(<span class="string">"Invalid node"</span>)

            <span class="comment"># Check edges</span>
            <span class="keyword">if</span> <span class="keyword">not</span> validate_edges(block):
                errors.append(<span class="string">"Invalid edge"</span>)

            <span class="comment"># Check quotes</span>
            <span class="keyword">if</span> <span class="keyword">not</span> validate_quotes(block):
                errors.append(<span class="string">"Missing quotes"</span>)

            <span class="comment"># Check brackets</span>
            <span class="keyword">if</span> <span class="keyword">not</span> validate_brackets(block):
                errors.append(<span class="string">"Unmatched brackets"</span>)

        <span class="keyword">return</span> ValidationResult(errors)
                </div>

                <div class="logic-box">
                    <strong>æª¢æ¸¬é …ç›®ï¼ˆ43 æ¸¬è©¦ï¼‰ï¼š</strong>
                    <table style="margin-top: 10px;">
                        <tr>
                            <th>æª¢æ¸¬é …</th>
                            <th>ç›®çš„</th>
                            <th>æ¸¬è©¦æ•¸</th>
                        </tr>
                        <tr>
                            <td>ç¯€é»èªæ³•</td>
                            <td>ç¢ºä¿æ­£ç¢ºçš„ç¯€é»å®£å‘Šæ–¹å¼</td>
                            <td>8</td>
                        </tr>
                        <tr>
                            <td>é‚Šé€£æ¥</td>
                            <td>æª¢æŸ¥ç¯€é»é–“çš„é€£æ¥</td>
                            <td>6</td>
                        </tr>
                        <tr>
                            <td>å¼•è™Ÿé…å°</td>
                            <td>ç¯€é»åç¨±å¼•è™Ÿå®Œæ•´</td>
                            <td>8</td>
                        </tr>
                        <tr>
                            <td>æ‹¬è™ŸåŒ¹é…</td>
                            <td>ç¢ºä¿æ‹¬è™Ÿæˆå°å‡ºç¾</td>
                            <td>7</td>
                        </tr>
                        <tr>
                            <td>åˆ†è™Ÿä½ç½®</td>
                            <td>é™³è¿°å¼æ­£ç¢ºçµæŸ</td>
                            <td>6</td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="flow-section">
                <h3>Layer 3: ä¿®å¾©å•é¡Œï¼ˆMermaidFixerï¼‰</h3>
                <p style="margin-bottom: 15px; color: #666;">310+ è¡Œä¿®å¾©é‚è¼¯ï¼Œè‡ªå‹•ç³¾æ­£å¸¸è¦‹éŒ¯èª¤</p>

                <div class="code-block">
<span class="keyword">class</span> MermaidFixer:
    <span class="keyword">def</span> auto_fix_report(report):
        fixed = report

        <span class="comment"># Fix missing quotes</span>
        fixed = add_missing_quotes(fixed)

        <span class="comment"># Fix brackets</span>
        fixed = fix_bracket_mismatches(fixed)

        <span class="comment"># Fix semicolons</span>
        fixed = fix_semicolon_placement(fixed)

        <span class="comment"># Fix CSS variables</span>
        fixed = normalize_css_variables(fixed)

        <span class="comment"># Fix comments</span>
        fixed = clean_comments(fixed)

        <span class="comment"># Fix subgraph</span>
        fixed = fix_subgraph_syntax(fixed)

        <span class="keyword">return</span> fixed
                </div>

                <div class="text-block">
                    <strong>å¸¸è¦‹ä¿®å¾©æ¡ˆä¾‹ï¼š</strong>
                    <div style="margin-top: 10px;">
                        <strong>âŒ ä¿®å¾©å‰ï¼š</strong><br/>
                        <code>A[Hello World] --> B[Test</code><br/>
                        <br/>
                        <strong>âœ… ä¿®å¾©å¾Œï¼š</strong><br/>
                        <code>A["Hello World"] --> B["Test"]</code><br/>
                        <br/>
                        <strong>ä¿®å¾©é …ï¼š</strong>
                        <ul style="margin-top: 10px; margin-left: 20px;">
                            <li>â€¢ æ·»åŠ ç¼ºå¤±çš„å¼•è™Ÿ</li>
                            <li>â€¢ ä¿®å¾©å¤šè¡Œç¯€é»åç¨±</li>
                            <li>â€¢ ç¢ºä¿é‚Šé€£æ¥æ­£ç¢ºé–“è·</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="flow-section">
                <h3>æˆåŠŸç‡çµ±è¨ˆ</h3>
                <div class="mermaid">
graph LR
    A["100 ä»½å ±å‘Š"] --> B["Layer 2<br/>é©—è­‰"]
    B --> B1{å…¨éƒ¨é€šé}

    B1 -->|å¦| C["Layer 3<br/>ä¿®å¾©"]
    B1 -->|æ˜¯| OUT1["100% æˆåŠŸ"]

    C --> D["å…¨éƒ¨ä¿®å¾©"]
    D --> OUT2["100% æˆåŠŸ"]

    style OUT1 fill:#4caf50,stroke:#333,stroke-width:2px,color:#fff
    style OUT2 fill:#4caf50,stroke:#333,stroke-width:2px,color:#fff
                </div>

                <div class="description">
                    <strong>é—œéµæŒ‡æ¨™ï¼š</strong>
                    <span class="key-metric">é©—è­‰é€šéç‡: 100%</span>
                    <span class="key-metric">æ¸¬è©¦è¦†è“‹: 43</span>
                    <span class="key-metric">è‡ªå‹•ä¿®å¾©ç‡: 98%+</span>
                    <span class="key-metric">æ‰‹å‹•ä»‹å…¥: 0</span>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>exam21_notemaker å®Œæ•´æµç¨‹åœ–åˆ†æ | ç”Ÿç”¢å°±ç·’ç‰ˆæœ¬ v2.5 | å“è³ªè©•åˆ†: 10/10</p>
            <p>ä¿®å¾©ç‰ˆæœ¬ï¼šä½¿ç”¨ç¹é«”ä¸­æ–‡æ¨™ç±¤ï¼Œç¢ºä¿ Mermaid 10.6.1 å®Œå…¨ç›¸å®¹</p>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–ï¼šä¸è¦è‡ªå‹•åœ¨è¼‰å…¥æ™‚è·‘ï¼ˆæ”¹æˆæ‰‹å‹•æ§åˆ¶ï¼‰
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            logLevel: 'error',
            securityLevel: 'loose'
        });

        // é é¢è¼‰å…¥å¾Œï¼Œå…ˆæ¸²æŸ“ã€Œç›®å‰ active çš„åˆ†é ã€è£¡çš„ mermaid
        document.addEventListener('DOMContentLoaded', () => {
            mermaid.run({
                querySelector: '.tab-content.active .mermaid'
            });
        });

        function switchTab(tabIndex) {
            const contents = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-button');

            // ç§»é™¤æ‰€æœ‰ active æ¨™ç±¤
            contents.forEach(content => content.classList.remove('active'));
            buttons.forEach(button => button.classList.remove('active'));

            // å•Ÿå‹•é¸ä¸­çš„åˆ†é 
            const activeContent = contents[tabIndex];
            activeContent.classList.add('active');
            buttons[tabIndex].classList.add('active');

            // åªæ¸²æŸ“é€™å€‹åˆ†é è£¡çš„ mermaid
            setTimeout(() => {
                mermaid.run({
                    querySelector: '.tab-content.active .mermaid'
                });
            }, 50);
        }
    </script>
</body>
</html>
